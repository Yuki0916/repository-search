(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{63:function(e,t,n){e.exports=n(81)},68:function(e,t,n){},69:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"SEARCH_RESULT",function(){return g}),n.d(a,"SEARCH_REPOSITORY",function(){return y}),n.d(a,"CLEAN_SEARCH_REPOSITORY",function(){return O}),n.d(a,"ERROR_HANDEL",function(){return v}),n.d(a,"LOADING_ON",function(){return E}),n.d(a,"LOADING_OFF",function(){return C}),n.d(a,"fetchSearchRepository",function(){return L}),n.d(a,"fetchOtherPageRepository",function(){return x}),n.d(a,"fetchRepositoryInformation",function(){return N}),n.d(a,"cleanSearchRepository",function(){return I});var r=n(0),o=n.n(r),c=n(16),i=n.n(c),l=(n(68),n(69),n(8)),s=n(7),u=n(32),h=n(10),d=n(24),p=n.n(d),m=n(11),b=n.n(m),f=n(19),g="SEACH/RESULT",y="SEARCH/REPOSITORY",O="SEARCH/CLEAN_REPOSITORY",v="ERROR/HANDLE",E="LOADING/ON",C="LOADING/OFF",j=function(e,t){return{type:g,data:Object(h.a)({},e,{inputContent:t})}},S=function(e){return{type:v,data:e}},k=function(e,t,n){return{type:y,data:{resBranch:e,resCommit:t,repositoryName:n}}},R=function(){return{type:E}},w=function(){return{type:C}},L=function(e){return function(){var t=Object(f.a)(b.a.mark(function t(n){var a;return b.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(R()),t.next=4,fetch("https://api.github.com/search/repositories?q=".concat(e,"&page=1&per_page=10"),{headers:{Authorization:"Bearer 10533bf1644b370cc462edcd8177686317a8d924"}});case 4:return a=t.sent,t.t0=n,t.t1=j,t.next=9,a.json();case 9:t.t2=t.sent,t.t3=e,t.t4=(0,t.t1)(t.t2,t.t3),(0,t.t0)(t.t4),n(w()),t.next=19;break;case 16:t.prev=16,t.t5=t.catch(0),n(S(t.t5));case 19:case"end":return t.stop()}},t,null,[[0,16]])}));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(f.a)(b.a.mark(function n(a){var r;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(R()),n.next=4,fetch("https://api.github.com/search/repositories?q=".concat(t,"&page=").concat(e,"&per_page=10"),{headers:{Authorization:"Bearer 10533bf1644b370cc462edcd8177686317a8d924"}});case 4:return r=n.sent,n.t0=a,n.t1=j,n.next=9,r.json();case 9:n.t2=n.sent,n.t3=t,n.t4=(0,n.t1)(n.t2,n.t3),(0,n.t0)(n.t4),a(w()),n.next=19;break;case 16:n.prev=16,n.t5=n.catch(0),a(S(n.t5));case 19:case"end":return n.stop()}},n,null,[[0,16]])}));return function(e){return n.apply(this,arguments)}}()},N=function(e,t){return function(){var n=Object(f.a)(b.a.mark(function n(a){var r,o;return b.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(R()),n.next=4,fetch("https://api.github.com/repos/".concat(t,"/").concat(e,"/branches"),{headers:{Authorization:"Bearer 10533bf1644b370cc462edcd8177686317a8d924"}});case 4:return r=n.sent,n.next=7,fetch("https://api.github.com/repos/".concat(t,"/").concat(e,"/commits"),{headers:{Authorization:"Bearer 10533bf1644b370cc462edcd8177686317a8d924"}});case 7:return o=n.sent,n.t0=a,n.t1=k,n.next=12,r.json();case 12:return n.t2=n.sent,n.next=15,o.json();case 15:n.t3=n.sent,n.t4=e,n.t5=(0,n.t1)(n.t2,n.t3,n.t4),(0,n.t0)(n.t5),a(w()),n.next=25;break;case 22:n.prev=22,n.t6=n.catch(0),a(S(n.t6));case 25:case"end":return n.stop()}},n,null,[[0,22]])}));return function(e){return n.apply(this,arguments)}}()},I=function(){return{type:O}};var D=Object(s.c)({dataStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{SearchResultList:[],PaginationCount:0,ResponsitoryDetail:{},QueryString:"",ErrorMessage:"",Loading:!1,Dialog:{BranchList:[],CommitList:[],RepositoryName:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:var n=t.data,a=n.total_count,r=n.inputContent,o=n.items,c=Math.ceil(a/10),i=o.map(function(e){return{RepositoryName:e.name,OwnerName:e.owner.login,CreatedDate:p()(e.created_at).format("YYYY/MM/DD"),UpdatedDate:p()(e.updated_at).format("YYYY/MM/DD"),StarCount:e.stargazers_count,Watchers:e.watchers}});return Object(h.a)({},e,{SearchResultList:i,PaginationCount:c>100?100:c,QueryString:r});case y:var l=t.data,s=l.resBranch,u=l.resCommit,d=l.repositoryName;return Object(h.a)({},e,{Dialog:{BranchList:s.map(function(e){return e.name}).slice(0,10),CommitList:u.map(function(e){return e.commit.message}).slice(0,10),RepositoryName:d}});case O:return Object(h.a)({},e,{Dialog:{BranchList:[],CommitList:[],RepositoryName:""}});case v:return console.error("ERROR_HANDEL ".concat(t.data)),e;default:return e}},pageControl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Loading:!1,Dialog:!1};switch((arguments.length>1?arguments[1]:void 0).type){case E:return Object(h.a)({},e,{Loading:!0});case C:return Object(h.a)({},e,{Loading:!1});case y:return Object(h.a)({},e,{Dialog:!0});case O:return Object(h.a)({},e,{Dialog:!1});default:return e}}}),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d;var P=function(e){return Object(s.e)(D,e,A(Object(s.a)(u.a)))},_=n(2),T=n(3),H=n(5),B=n(4),M=n(6),F={Form:{width:"50vw",margin:"0 auto"},SearchMain:{marginTop:"1vh"},Input:{padding:"5px"},Button:{marginLeft:"5px",padding:"5px"}},Y=function(e){function t(){return Object(_.a)(this,t),Object(H.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:F.Form},o.a.createElement("label",{htmlFor:"search_input"},"Github Repository Search"),o.a.createElement("div",{style:F.SearchMain},o.a.createElement("input",{style:F.Input,id:"search_input",type:"text",name:"search_input",placeholder:"Search",onKeyUp:this.props.handleEnter,onChange:this.props.onChange}),o.a.createElement("button",{style:F.Button,type:"submit",name:"search_submit",onClick:this.props.handleSearch},"Search")))}}]),t}(r.Component),U={Header:{paddingTop:"10%"}},q=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).initialState={searchText:""},n.state=n.initialState,n.changeContent=function(e){return n.setState({searchText:e.target.value})},n.handleEnter=function(e){13===e.keyCode&&n.handleSearch()},n.handleSearch=function(){var e=n.state.searchText;e&&n.props.fetchSearchRepository(e)},n}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("header",{style:U.Header},o.a.createElement(Y,{handleEnter:this.handleEnter,handleSearch:this.handleSearch,onChange:this.changeContent}))}}]),t}(r.Component),z=Object(l.b)(function(e){return{searchResult:e.dataStore.SearchResult}},function(e){return Object(s.b)(a,e)})(q),W={Main:{position:"absolute",right:"10vw"},Item:{display:"inline-block",border:"1px solid black",margin:5,cursor:"pointer",width:50,textAlign:"center",userSelect:"none"},Effect:{display:"inline-block",border:"1px solid black",margin:5,width:50,textAlign:"center",cursor:"default",background:"black",color:"white",userSelect:"none"}},G=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(H.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(c)))).renderListItem=function(e){var t=e.pageState,n=e.handleClick,a=t.NowPage,c=t.TotalPage,i=function(){return o.a.createElement("li",{style:W.Effect},a)},l=function(e){return e<=c?o.a.createElement("li",{style:W.Item,onClick:function(){return n(e)}},e):null};switch(a){case 1:return o.a.createElement(r.Fragment,null,i(),l(2),l(3),l(4),l(5));case 2:return o.a.createElement(r.Fragment,null,l(1),i(),l(3),l(4),l(5));case c-1:return o.a.createElement(r.Fragment,null,l(a-3),l(a-2),l(a-1),i(),l(a+1));case c:return o.a.createElement(r.Fragment,null,l(a-4),l(a-3),l(a-2),l(a-1),i());default:return o.a.createElement(r.Fragment,null,l(a-2),l(a-1),i(),l(a+1),l(a+2))}},n}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pageState,n=t.NowPage,a=t.TotalPage,r=e.handleClick;return 0===a?null:o.a.createElement("ul",{style:W.Main},o.a.createElement("li",{style:W.Item,onClick:function(){return 1!==n&&r(n-1)}},"PREV"),this.renderListItem(this.props),o.a.createElement("li",{style:W.Item,onClick:function(){return n<a&&r(n+1)}},"NEXT"))}}]),t}(r.Component),Q=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={NowPage:1,TotalPage:0},n.handleChangePage=function(e){var t=n.props,a=t.fetchOtherPageRepository,r=t.queryString;n.setState({NowPage:e}),a(e,r)},n}return Object(M.a)(t,e),Object(T.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.paginationCount,a=e.paginationCount,r=this.props.queryString,o=!1;return r!==e.queryString&&""!==r&&(this.setState({NowPage:1}),o=!0),n!==a&&(this.setState({TotalPage:a}),o=!0),!o}},{key:"render",value:function(){return o.a.createElement(r.Fragment,null,o.a.createElement(G,{pageState:this.state,handleClick:this.handleChangePage}))}}]),t}(r.Component),X=Object(l.b)(function(e){return{paginationCount:e.dataStore.PaginationCount,queryString:e.dataStore.QueryString}},function(e){return Object(s.b)(a,e)})(Q),J=n(33),V=n(62),K={table:{margin:"20px auto",userSelect:"none"},tableRow:{cursor:"pointer",":hover":{backgroundColor:"gray"},":active":{backgroundColor:"black",color:"white"}},tableHead:{border:"1px solid black",padding:5,textAlign:"center",cursor:"pointer",":hover":{backgroundColor:"gray"},":active":{backgroundColor:"black",color:"white"}},tableCell:{border:"1px solid black",padding:5,textAlign:"center"}},$=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(H.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).resultHead=function(){var e=n.props.sortTable;return o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{key:"table-head-1",style:K.tableHead},"No"),o.a.createElement("th",{key:"table-head-2",style:K.tableHead,onClick:function(){return e("RepositoryName")}},"Repository Name"),o.a.createElement("th",{key:"table-head-3",style:K.tableHead,onClick:function(){return e("OwnerName")}},"Owner Name"),o.a.createElement("th",{key:"table-head-4",style:K.tableHead,onClick:function(){return e("CreatedDate")}},"Created Date"),o.a.createElement("th",{key:"table-head-5",style:K.tableHead,onClick:function(){return e("UpdatedDate")}},"Updated Date"),o.a.createElement("th",{key:"table-head-6",style:K.tableHead,onClick:function(){return e("StarCount")}},"Star Count"),o.a.createElement("th",{key:"table-head-7",style:K.tableHead,onClick:function(){return e("Watchers")}},"Watchers")))},n.resultItem=function(e,t){var a=n.props.getRepositoryInfo;return o.a.createElement("tr",{style:K.tableRow,key:t,onClick:function(){return a(e.RepositoryName,e.OwnerName)}},o.a.createElement("td",{style:K.tableCell},t+1),o.a.createElement("td",{style:K.tableCell},e.RepositoryName),o.a.createElement("td",{style:K.tableCell},e.OwnerName),o.a.createElement("td",{style:K.tableCell},e.CreatedDate),o.a.createElement("td",{style:K.tableCell},e.UpdatedDate),o.a.createElement("td",{style:K.tableCell},e.StarCount),o.a.createElement("td",{style:K.tableCell},e.Watchers))},n}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.searchResultList;return 0===t.length?null:o.a.createElement("table",{style:K.table},this.resultHead(),o.a.createElement("tbody",null,t.map(function(t,n){return e.resultItem(t,n)})))}}]),t}(r.Component),Z=Object(V.a)($),ee=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(H.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).state={stateResultList:[],name:"",reverse:!1},n.sortTable=function(e){var t=n.state,a=t.stateResultList,r=t.name,o=t.reverse;return e===r?n.setState({stateResultList:a.reverse(),name:e,reverse:!o}):n.setState({stateResultList:Object(J.sortBy)(a,e),name:e,reverse:!1})},n.getRepositoryInfo=function(e,t){(0,n.props.fetchRepositoryInformation)(e,t)},n}return Object(M.a)(t,e),Object(T.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.searchResultList,a=e.searchResultList;return n===a||(this.setState({stateResultList:a}),!1)}},{key:"render",value:function(){var e=this.state.stateResultList;return o.a.createElement("div",null,o.a.createElement(Z,{searchResultList:e,sortTable:this.sortTable,getRepositoryInfo:this.getRepositoryInfo}))}}]),t}(r.Component),te=Object(l.b)(function(e){return{searchResultList:e.dataStore.SearchResultList}},function(e){return Object(s.b)(a,e)})(ee),ne={LoadingPage:{position:"fixed",top:0,left:0,backgroundColor:"rgba(50, 115, 220, 0.3)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},ae=function(e){function t(){return Object(_.a)(this,t),Object(H.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{style:ne.LoadingPage},o.a.createElement("div",null,"Loading"))}}]),t}(r.Component),re={Main:{width:700,height:400,background:"white",position:"relative"},Tital:{width:"auto",margin:10},List:{height:150,width:"auto",overflow:"auto",border:"1px solid red"},Item:{padding:10},Button:{position:"absolute",bottom:0,backgroundColor:"deepskyblue",lineHeight:1.5}},oe=function(e){function t(){var e,n;Object(_.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(H.a)(this,(e=Object(B.a)(t)).call.apply(e,[this].concat(r)))).renderListItem=function(e,t){return o.a.createElement("li",{style:re.Item,key:t},"".concat(t+1,": ").concat(e))},n}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,n=t.RepositoryName,a=t.BranchList,r=t.CommitList,c=this.props.handleClose;return o.a.createElement("div",{style:re.Main},o.a.createElement("div",{style:re.Tital},"".concat(n," \u524d\u5341\u7b46 Branch Name")),o.a.createElement("ol",{style:re.List},a.map(function(t,n){return e.renderListItem(t,n)})),o.a.createElement("div",{style:re.Tital},"".concat(n," \u524d\u5341\u7b46 Commit Message")),o.a.createElement("ol",{style:re.List},r.map(function(t,n){return e.renderListItem(t,n)})),o.a.createElement("button",{style:re.Button,onClick:c},"close"))}}]),t}(r.Component),ce={BackgroundPage:{position:"fixed",top:0,left:0,backgroundColor:"rgba(50, 115, 220, 0.3)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},ie=function(e){function t(){return Object(_.a)(this,t),Object(H.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.dialogInformation,n=e.cleanSearchRepository;return o.a.createElement("div",{style:ce.BackgroundPage},o.a.createElement(oe,{data:t,handleClose:n}))}}]),t}(r.Component),le=Object(l.b)(function(e){return{dialogInformation:e.dataStore.Dialog}},function(e){return Object(s.b)(a,e)})(ie),se={Main:{boxSizing:"border-box",width:"100vw",height:"100vh"}},ue=function(e){function t(){return Object(_.a)(this,t),Object(H.a)(this,Object(B.a)(t).apply(this,arguments))}return Object(M.a)(t,e),Object(T.a)(t,[{key:"render",value:function(){var e=this.props,t=e.loadingStatus,n=e.dialogStatus;return o.a.createElement("div",{style:se.Main},o.a.createElement(z,null),o.a.createElement(te,null),o.a.createElement(X,null),t&&o.a.createElement(ae,null),n&&o.a.createElement(le,null))}}]),t}(r.Component),he=Object(l.b)(function(e){return{loadingStatus:e.pageControl.Loading,dialogStatus:e.pageControl.Dialog}},{})(ue),de=P();var pe=function(){return o.a.createElement(l.a,{store:de},o.a.createElement(he,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(pe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[63,1,2]]]);
//# sourceMappingURL=main.01a302b2.chunk.js.map