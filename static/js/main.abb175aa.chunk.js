(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(t,e,n){t.exports=n(36)},29:function(t,e,n){},30:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"SEARCH_RESULT",function(){return g}),n.d(a,"SEARCH_REPOSITORY",function(){return y}),n.d(a,"CLEAN_SEARCH_REPOSITORY",function(){return O}),n.d(a,"ERROR_HANDEL",function(){return v}),n.d(a,"LOADING_ON",function(){return E}),n.d(a,"LOADING_OFF",function(){return C}),n.d(a,"fetchSearchRepository",function(){return L}),n.d(a,"fetchOtherPageRepository",function(){return N}),n.d(a,"fetchRepositoryInformation",function(){return x}),n.d(a,"cleanSearchRepository",function(){return I});var r=n(0),o=n.n(r),c=n(12),i=n.n(c),l=(n(29),n(30),n(7)),s=n(6),u=n(22),h=n(8),p=n(18),d=n.n(p),m=n(10),f=n.n(m),b=n(13),g="SEACH/RESULT",y="SEARCH/REPOSITORY",O="SEARCH/CLEAN_REPOSITORY",v="ERROR/HANDLE",E="LOADING/ON",C="LOADING/OFF",j=function(t,e){return{type:g,data:Object(h.a)({},t,{inputContent:e})}},S=function(t){return{type:v,data:t}},R=function(t,e,n){return{type:y,data:{resBranch:t,resCommit:e,repositoryName:n}}},w=function(){return{type:E}},k=function(){return{type:C}},L=function(t){return function(){var e=Object(b.a)(f.a.mark(function e(n){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(w()),e.next=4,fetch("https://api.github.com/search/repositories?q=".concat(t,"&page=1&per_page=10"));case 4:return a=e.sent,e.t0=n,e.t1=j,e.next=9,a.json();case 9:e.t2=e.sent,e.t3=t,e.t4=(0,e.t1)(e.t2,e.t3),(0,e.t0)(e.t4),n(k()),e.next=19;break;case 16:e.prev=16,e.t5=e.catch(0),n(S(e.t5));case 19:case"end":return e.stop()}},e,null,[[0,16]])}));return function(t){return e.apply(this,arguments)}}()},N=function(t,e){return function(){var n=Object(b.a)(f.a.mark(function n(a){var r;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(w()),n.next=4,fetch("https://api.github.com/search/repositories?q=".concat(e,"&page=").concat(t,"&per_page=10"));case 4:return r=n.sent,n.t0=a,n.t1=j,n.next=9,r.json();case 9:n.t2=n.sent,n.t3=e,n.t4=(0,n.t1)(n.t2,n.t3),(0,n.t0)(n.t4),a(k()),n.next=19;break;case 16:n.prev=16,n.t5=n.catch(0),a(S(n.t5));case 19:case"end":return n.stop()}},n,null,[[0,16]])}));return function(t){return n.apply(this,arguments)}}()},x=function(t,e){return function(){var n=Object(b.a)(f.a.mark(function n(a){var r,o;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(w()),n.next=4,fetch("https://api.github.com/repos/".concat(e,"/").concat(t,"/branches"));case 4:return r=n.sent,n.next=7,fetch("https://api.github.com/repos/".concat(e,"/").concat(t,"/commits"));case 7:return o=n.sent,n.t0=a,n.t1=R,n.next=12,r.json();case 12:return n.t2=n.sent,n.next=15,o.json();case 15:n.t3=n.sent,n.t4=t,n.t5=(0,n.t1)(n.t2,n.t3,n.t4),(0,n.t0)(n.t5),a(k()),n.next=25;break;case 22:n.prev=22,n.t6=n.catch(0),a(S(n.t6));case 25:case"end":return n.stop()}},n,null,[[0,22]])}));return function(t){return n.apply(this,arguments)}}()},I=function(){return{type:O}};var D=Object(s.c)({dataStore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{SearchResultList:[],PaginationCount:0,ResponsitoryDetail:{},QueryString:"",ErrorMessage:"",Loading:!1,Dialog:{BranchList:[],CommitList:[],RepositoryName:""}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:var n=e.data,a=n.total_count,r=n.inputContent,o=n.items,c=Math.ceil(a/10),i=o.map(function(t){return{RepositoryName:t.name,OwnerName:t.owner.login,CreatedDate:d()(t.created_at).format("YYYY/MM/DD"),UpdatedDate:d()(t.updated_at).format("YYYY/MM/DD"),StarCount:t.stargazers_count,Watchers:t.watchers}});return Object(h.a)({},t,{SearchResultList:i,PaginationCount:c>100?100:c,QueryString:r});case y:var l=e.data,s=l.resBranch,u=l.resCommit,p=l.repositoryName;return Object(h.a)({},t,{Dialog:{BranchList:s.map(function(t){return t.name}).slice(0,10),CommitList:u.map(function(t){return t.commit.message}).slice(0,10),RepositoryName:p}});case O:return Object(h.a)({},t,{Dialog:{BranchList:[],CommitList:[],RepositoryName:""}});case v:return console.error("ERROR_HANDEL ".concat(e.data)),t;default:return t}},pageControl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{Loading:!1,Dialog:!1};switch((arguments.length>1?arguments[1]:void 0).type){case E:return Object(h.a)({},t,{Loading:!0});case C:return Object(h.a)({},t,{Loading:!1});case y:return Object(h.a)({},t,{Dialog:!0});case O:return Object(h.a)({},t,{Dialog:!1});default:return t}}}),P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d;var _=function(t){return Object(s.e)(D,t,P(Object(s.a)(u.a)))},T=n(1),A=n(2),B=n(4),M=n(3),H=n(5),F={Form:{width:"50vw",margin:"0 auto"},SearchMain:{marginTop:"1vh"},Input:{padding:"5px"},Button:{marginLeft:"5px",padding:"5px"}},Y=function(t){function e(){return Object(T.a)(this,e),Object(B.a)(this,Object(M.a)(e).apply(this,arguments))}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:F.Form},o.a.createElement("label",{htmlFor:"search_input"},"Github Repository Search"),o.a.createElement("div",{style:F.SearchMain},o.a.createElement("input",{style:F.Input,id:"search_input",type:"text",name:"search_input",placeholder:"Search",onKeyUp:this.props.handleEnter,onChange:this.props.onChange}),o.a.createElement("button",{style:F.Button,type:"submit",name:"search_submit",onClick:this.props.handleSearch},"Search")))}}]),e}(r.Component),U={Header:{paddingTop:"10%"}},q=function(t){function e(){var t,n;Object(T.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(B.a)(this,(t=Object(M.a)(e)).call.apply(t,[this].concat(r)))).initialState={searchText:""},n.state=n.initialState,n.changeContent=function(t){return n.setState({searchText:t.target.value})},n.handleEnter=function(t){13===t.keyCode&&n.handleSearch()},n.handleSearch=function(){var t=n.state.searchText;t&&n.props.fetchSearchRepository(t)},n}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){return o.a.createElement("header",{style:U.Header},o.a.createElement(Y,{handleEnter:this.handleEnter,handleSearch:this.handleSearch,onChange:this.changeContent}))}}]),e}(r.Component),W=Object(l.b)(function(t){return{searchResult:t.dataStore.SearchResult}},function(t){return Object(s.b)(a,t)})(q),G={Main:{position:"absolute",right:"10vw"},Item:{display:"inline-block",border:"1px solid black",margin:5,cursor:"pointer",width:50,textAlign:"center",userSelect:"none"},Effect:{display:"inline-block",border:"1px solid black",margin:5,width:50,textAlign:"center",cursor:"default",background:"black",color:"white",userSelect:"none"}},Q=function(t){function e(){var t,n;Object(T.a)(this,e);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(n=Object(B.a)(this,(t=Object(M.a)(e)).call.apply(t,[this].concat(c)))).renderListItem=function(t){var e=t.pageState,n=t.handleClick,a=e.NowPage,c=e.TotalPage,i=function(){return o.a.createElement("li",{style:G.Effect},a)},l=function(t){return t<=c?o.a.createElement("li",{style:G.Item,onClick:function(){return n(t)}},t):null};switch(a){case 1:return o.a.createElement(r.Fragment,null,i(),l(2),l(3),l(4),l(5));case 2:return o.a.createElement(r.Fragment,null,l(1),i(),l(3),l(4),l(5));case c-1:return o.a.createElement(r.Fragment,null,l(a-3),l(a-2),l(a-1),i(),l(a+1));case c:return o.a.createElement(r.Fragment,null,l(a-4),l(a-3),l(a-2),l(a-1),i());default:return o.a.createElement(r.Fragment,null,l(a-2),l(a-1),i(),l(a+1),l(a+2))}},n}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){var t=this.props,e=t.pageState,n=e.NowPage,a=e.TotalPage,r=t.handleClick;return 0===a?null:o.a.createElement("ul",{style:G.Main},o.a.createElement("li",{style:G.Item,onClick:function(){return 1!==n&&r(n-1)}},"PREV"),this.renderListItem(this.props),o.a.createElement("li",{style:G.Item,onClick:function(){return n<a&&r(n+1)}},"NEXT"))}}]),e}(r.Component),X=function(t){function e(){var t,n;Object(T.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(B.a)(this,(t=Object(M.a)(e)).call.apply(t,[this].concat(r)))).state={NowPage:1,TotalPage:0},n.handleChangePage=function(t){var e=n.props,a=e.fetchOtherPageRepository,r=e.queryString;n.setState({NowPage:t}),a(t,r)},n}return Object(H.a)(e,t),Object(A.a)(e,[{key:"shouldComponentUpdate",value:function(t,e){var n=this.props.paginationCount,a=t.paginationCount,r=this.props.queryString,o=!1;return r!==t.queryString&&""!==r&&(this.setState({NowPage:1}),o=!0),n!==a&&(this.setState({TotalPage:a}),o=!0),!o}},{key:"render",value:function(){return o.a.createElement(r.Fragment,null,o.a.createElement(Q,{pageState:this.state,handleClick:this.handleChangePage}))}}]),e}(r.Component),z=Object(l.b)(function(t){return{paginationCount:t.dataStore.PaginationCount,queryString:t.dataStore.QueryString}},function(t){return Object(s.b)(a,t)})(X),J=n(23),V={table:{margin:"20px auto"},tableCell:{border:"1px solid black",padding:5,textAlign:"center"}},K=function(t){function e(){var t,n;Object(T.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(B.a)(this,(t=Object(M.a)(e)).call.apply(t,[this].concat(r)))).resultHead=function(){var t=n.props.sortTable;return o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:V.tableCell},"No"),o.a.createElement("th",{style:V.tableCell,onClick:function(){return t("RepositoryName")}},"Repository Name"),o.a.createElement("th",{style:V.tableCell,onClick:function(){return t("OwnerName")}},"Owner Name"),o.a.createElement("th",{style:V.tableCell,onClick:function(){return t("CreatedDate")}},"Created Date"),o.a.createElement("th",{style:V.tableCell,onClick:function(){return t("UpdatedDate")}},"Updated Date"),o.a.createElement("th",{style:V.tableCell,onClick:function(){return t("StarCount")}},"Star Count"),o.a.createElement("th",{style:V.tableCell,onClick:function(){return t("Watchers")}},"Watchers")))},n.resultItem=function(t,e){var a=n.props.getRepositoryInfo;return o.a.createElement("tr",{key:e,onClick:function(){return a(t.RepositoryName,t.OwnerName)}},o.a.createElement("td",{style:V.tableCell},e+1),o.a.createElement("td",{style:V.tableCell},t.RepositoryName),o.a.createElement("td",{style:V.tableCell},t.OwnerName),o.a.createElement("td",{style:V.tableCell},t.CreatedDate),o.a.createElement("td",{style:V.tableCell},t.UpdatedDate),o.a.createElement("td",{style:V.tableCell},t.StarCount),o.a.createElement("td",{style:V.tableCell},t.Watchers))},n}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){var t=this,e=this.props.searchResultList;return 0===e.length?null:o.a.createElement("table",{style:V.table},this.resultHead(),o.a.createElement("tbody",null,e.map(function(e,n){return t.resultItem(e,n)})))}}]),e}(r.Component),$=function(t){function e(){var t,n;Object(T.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(B.a)(this,(t=Object(M.a)(e)).call.apply(t,[this].concat(r)))).state={stateResultList:[],name:"",reverse:!1},n.sortTable=function(t){var e=n.state,a=e.stateResultList,r=e.name,o=e.reverse;return t===r?n.setState({stateResultList:a.reverse(),name:t,reverse:!o}):n.setState({stateResultList:Object(J.sortBy)(a,t),name:t,reverse:!1})},n.getRepositoryInfo=function(t,e){(0,n.props.fetchRepositoryInformation)(t,e)},n}return Object(H.a)(e,t),Object(A.a)(e,[{key:"shouldComponentUpdate",value:function(t,e){var n=this.props.searchResultList,a=t.searchResultList;return n===a||(this.setState({stateResultList:a}),!1)}},{key:"render",value:function(){var t=this.state.stateResultList;return o.a.createElement("div",null,o.a.createElement(K,{searchResultList:t,sortTable:this.sortTable,getRepositoryInfo:this.getRepositoryInfo}))}}]),e}(r.Component),Z=Object(l.b)(function(t){return{searchResultList:t.dataStore.SearchResultList}},function(t){return Object(s.b)(a,t)})($),tt={LoadingPage:{position:"fixed",top:0,left:0,backgroundColor:"rgba(50, 115, 220, 0.3)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},et=function(t){function e(){return Object(T.a)(this,e),Object(B.a)(this,Object(M.a)(e).apply(this,arguments))}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:tt.LoadingPage},o.a.createElement("div",null,"Loading"))}}]),e}(r.Component),nt={Main:{width:700,height:400,background:"white",position:"relative"},Tital:{width:"auto",margin:10},List:{height:150,width:"auto",overflow:"auto",border:"1px solid red"},Item:{padding:10},Button:{position:"absolute",bottom:0,backgroundColor:"deepskyblue",lineHeight:1.5}},at=function(t){function e(){var t,n;Object(T.a)(this,e);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(B.a)(this,(t=Object(M.a)(e)).call.apply(t,[this].concat(r)))).renderListItem=function(t,e){return o.a.createElement("li",{style:nt.Item,key:e},"".concat(e+1,": ").concat(t))},n}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){var t=this,e=this.props.data,n=e.RepositoryName,a=e.BranchList,r=e.CommitList,c=this.props.handleClose;return o.a.createElement("div",{style:nt.Main},o.a.createElement("div",{style:nt.Tital},"".concat(n," \u524d\u5341\u7b46 Branch Name")),o.a.createElement("ol",{style:nt.List},a.map(function(e,n){return t.renderListItem(e,n)})),o.a.createElement("div",{style:nt.Tital},"".concat(n," \u524d\u5341\u7b46 Commit Message")),o.a.createElement("ol",{style:nt.List},r.map(function(e,n){return t.renderListItem(e,n)})),o.a.createElement("button",{style:nt.Button,onClick:c},"close"))}}]),e}(r.Component),rt={BackgroundPage:{position:"fixed",top:0,left:0,backgroundColor:"rgba(50, 115, 220, 0.3)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"}},ot=function(t){function e(){return Object(T.a)(this,e),Object(B.a)(this,Object(M.a)(e).apply(this,arguments))}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){var t=this.props,e=t.dialogInformation,n=t.cleanSearchRepository;return o.a.createElement("div",{style:rt.BackgroundPage},o.a.createElement(at,{data:e,handleClose:n}))}}]),e}(r.Component),ct=Object(l.b)(function(t){return{dialogInformation:t.dataStore.Dialog}},function(t){return Object(s.b)(a,t)})(ot),it={Main:{boxSizing:"border-box",width:"100vw",height:"100vh"}},lt=function(t){function e(){return Object(T.a)(this,e),Object(B.a)(this,Object(M.a)(e).apply(this,arguments))}return Object(H.a)(e,t),Object(A.a)(e,[{key:"render",value:function(){var t=this.props,e=t.loadingStatus,n=t.dialogStatus;return o.a.createElement("div",{style:it.Main},o.a.createElement(W,null),o.a.createElement(Z,null),o.a.createElement(z,null),e&&o.a.createElement(et,null),n&&o.a.createElement(ct,null))}}]),e}(r.Component),st=Object(l.b)(function(t){return{loadingStatus:t.pageControl.Loading,dialogStatus:t.pageControl.Dialog}},{})(lt),ut=_();var ht=function(){return o.a.createElement(l.a,{store:ut},o.a.createElement(st,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.abb175aa.chunk.js.map